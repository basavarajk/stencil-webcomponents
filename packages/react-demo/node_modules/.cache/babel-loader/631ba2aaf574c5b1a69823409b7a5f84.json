{"ast":null,"code":"/*! Built with http://stenciljs.com */\nimport { h } from \"../split-me.core.js\";\n\nvar commonjsGlobal = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n    FUNC_ERROR_TEXT = \"Expected a function\",\n    NAN = NaN,\n    symbolTag = \"[object Symbol]\",\n    reTrim = /^\\s+|\\s+$/g,\n    reIsBadHex = /^[-+]0x[0-9a-f]+$/i,\n    reIsBinary = /^0b[01]+$/i,\n    reIsOctal = /^0o[0-7]+$/i,\n    freeParseInt = parseInt,\n    freeGlobal = \"object\" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal,\n    freeSelf = \"object\" == typeof self && self && self.Object === Object && self,\n    root = freeGlobal || freeSelf || Function(\"return this\")(),\n    objectProto = Object.prototype,\n    objectToString = objectProto.toString,\n    nativeMax = Math.max,\n    nativeMin = Math.min,\n    now = function now() {\n  return root.Date.now();\n};\n\nfunction debounce(t, e, i) {\n  var n,\n      s,\n      r,\n      o,\n      a,\n      h,\n      l = 0,\n      d = !1,\n      c = !1,\n      u = !0;\n  if (\"function\" != typeof t) throw new TypeError(FUNC_ERROR_TEXT);\n\n  function f(e) {\n    var i = n,\n        r = s;\n    return n = s = void 0, l = e, o = t.apply(r, i);\n  }\n\n  function p(t) {\n    var i = t - h;\n    return void 0 === h || i >= e || i < 0 || c && t - l >= r;\n  }\n\n  function v() {\n    var t = now();\n    if (p(t)) return m(t);\n    a = setTimeout(v, function (t) {\n      var i = e - (t - h);\n      return c ? nativeMin(i, r - (t - l)) : i;\n    }(t));\n  }\n\n  function m(t) {\n    return a = void 0, u && n ? f(t) : (n = s = void 0, o);\n  }\n\n  function g() {\n    var t = now(),\n        i = p(t);\n\n    if (n = arguments, s = this, h = t, i) {\n      if (void 0 === a) return function (t) {\n        return l = t, a = setTimeout(v, e), d ? f(t) : o;\n      }(h);\n      if (c) return a = setTimeout(v, e), f(h);\n    }\n\n    return void 0 === a && (a = setTimeout(v, e)), o;\n  }\n\n  return e = toNumber(e) || 0, isObject(i) && (d = !!i.leading, r = (c = \"maxWait\" in i) ? nativeMax(toNumber(i.maxWait) || 0, e) : r, u = \"trailing\" in i ? !!i.trailing : u), g.cancel = function () {\n    void 0 !== a && clearTimeout(a), l = 0, n = h = s = a = void 0;\n  }, g.flush = function () {\n    return void 0 === a ? o : m(now());\n  }, g;\n}\n\nfunction throttle(t, e, i) {\n  var n = !0,\n      s = !0;\n  if (\"function\" != typeof t) throw new TypeError(FUNC_ERROR_TEXT);\n  return isObject(i) && (n = \"leading\" in i ? !!i.leading : n, s = \"trailing\" in i ? !!i.trailing : s), debounce(t, e, {\n    leading: n,\n    maxWait: e,\n    trailing: s\n  });\n}\n\nfunction isObject(t) {\n  var e = typeof t;\n  return !!t && (\"object\" == e || \"function\" == e);\n}\n\nfunction isObjectLike(t) {\n  return !!t && \"object\" == typeof t;\n}\n\nfunction isSymbol(t) {\n  return \"symbol\" == typeof t || isObjectLike(t) && objectToString.call(t) == symbolTag;\n}\n\nfunction toNumber(t) {\n  if (\"number\" == typeof t) return t;\n  if (isSymbol(t)) return NAN;\n\n  if (isObject(t)) {\n    var e = \"function\" == typeof t.valueOf ? t.valueOf() : t;\n    t = isObject(e) ? e + \"\" : e;\n  }\n\n  if (\"string\" != typeof t) return 0 === t ? t : +t;\n  t = t.replace(reTrim, \"\");\n  var i = reIsBinary.test(t);\n  return i || reIsOctal.test(t) ? freeParseInt(t.slice(2), i ? 2 : 8) : reIsBadHex.test(t) ? NAN : +t;\n}\n\nvar lodash_throttle = throttle,\n    SplitMe = function () {\n  function t() {\n    var t = this;\n    this.n = 1, this.d = \"horizontal\", this.fixed = !1, this.sizes = \"\", this.minSizes = \"\", this.maxSizes = \"\", this.throttle = 0, this.nChanged = !1, this.sizesChanged = !1, this.minSizesChanged = !1, this.maxSizesChanged = !1, this.onTouchMove = function (e, i) {\n      e.preventDefault(), e.touches.length > 0 && t.throttledResize(e.touches[0].clientX, e.touches[0].clientY, i, e);\n    };\n  }\n\n  return t.prototype.watchN = function () {\n    this.nChanged = !0;\n  }, t.prototype.watchSizes = function () {\n    this.sizesChanged = !0;\n  }, t.prototype.watchMinSizes = function () {\n    this.minSizesChanged = !0;\n  }, t.prototype.watchMaxSizes = function () {\n    this.maxSizesChanged = !0;\n  }, t.prototype.watchThrottle = function (t) {\n    this.throttledResize = lodash_throttle(this.resize.bind(this), t);\n  }, t.prototype.componentWillLoad = function () {\n    this.throttledResize = lodash_throttle(this.resize.bind(this), this.throttle);\n    var t = this.parseSizes(this.sizes);\n    this.slotEnd = t.length === this.n ? this.assignedSlotEnd(t) : this.defaultSlotEnd(this.n);\n    var e = this.parseSizes(this.minSizes);\n    this.minSizesArr = e.length === this.n ? e : this.defaultMinSizes(this.n);\n    var i = this.parseSizes(this.maxSizes);\n    this.maxSizesArr = i.length === this.n ? i : this.defaultMaxSizes(this.n);\n  }, t.prototype.componentWillUpdate = function () {\n    var t;\n\n    if (this.sizesChanged && (t = this.parseSizes(this.sizes)).length !== this.n && (this.sizesChanged = !1), this.sizesChanged ? (this.slotEnd = this.assignedSlotEnd(t), this.nChanged = !1, this.sizesChanged = !1) : this.nChanged && (this.slotEnd = this.rescaleSlotEnd(this.n, this.slotEnd), this.nChanged = !1), this.minSizesChanged) {\n      var e = this.parseSizes(this.minSizes);\n      this.minSizesArr = e.length === this.n ? e : this.defaultMinSizes(this.n), this.minSizesChanged = !1;\n    }\n\n    if (this.maxSizesChanged) {\n      var i = this.parseSizes(this.minSizes);\n      this.maxSizesArr = i.length === this.n ? i : this.defaultMaxSizes(this.n), this.maxSizesChanged = !1;\n    }\n  }, t.prototype.defaultSlotEnd = function (t) {\n    for (var e = [], i = 0; i < t; ++i) {\n      e.push((i + 1) / t);\n    }\n\n    return e;\n  }, t.prototype.assignedSlotEnd = function (t) {\n    for (var e = [], i = 0, n = 0; n < t.length; ++n) {\n      e.push(Math.min(1, i += t[n]));\n    }\n\n    return e;\n  }, t.prototype.rescaleSlotEnd = function (t, e) {\n    for (var i = e.length / t, n = [], s = 0; s < t - 1; ++s) {\n      n.push(s < e.length ? e[s] * i : (s + 1) / t);\n    }\n\n    return n.push(1), n;\n  }, t.prototype.defaultMinSizes = function (t) {\n    for (var e = [], i = 0; i < t; ++i) {\n      e.push(0);\n    }\n\n    return e;\n  }, t.prototype.defaultMaxSizes = function (t) {\n    for (var e = [], i = 0; i < t; ++i) {\n      e.push(1);\n    }\n\n    return e;\n  }, t.prototype.parseSizes = function (t) {\n    if (!t) return [];\n    if (Array.isArray(t)) return t.length === this.n ? t : [];\n\n    try {\n      var e = JSON.parse(t);\n      if (Array.isArray(e)) return e.length === this.n ? e : [];\n    } catch (t) {}\n\n    var i = t.split(\",\");\n    if (i.length !== this.n) return [];\n\n    for (var n = [], s = /^\\s*\\d+(\\.\\d*)?\\%\\s*$/, r = /^\\s*(0|1)(\\.\\d*)?\\s*$/, o = 0; o < i.length; ++o) {\n      var a = i[o];\n      if (a.match(s)) n.push(parseFloat(a) / 100);else {\n        if (!a.match(r)) return [];\n        n.push(parseFloat(a));\n      }\n    }\n\n    return n;\n  }, t.prototype.onDragStart = function (t, e) {\n    var i = this;\n    t.preventDefault();\n\n    var n = function n(t) {\n      i.throttledResize(t.clientX, t.clientY, e, t);\n    },\n        s = function s() {\n      window.removeEventListener(\"mousemove\", n), window.removeEventListener(\"mouseup\", s);\n    };\n\n    window.addEventListener(\"mousemove\", n), window.addEventListener(\"mouseup\", s);\n  }, t.prototype.resize = function (t, e, i, n) {\n    var s = i > 0 ? this.slotEnd[i - 1] : 0,\n        r = s + this.minSizesArr[i];\n    r = Math.max(r, this.slotEnd[i + 1] - this.maxSizesArr[i + 1]);\n    var o,\n        a = i < this.n - 1 ? this.slotEnd[i + 1] : 1;\n    a -= this.minSizesArr[i + 1], a = Math.min(a, s + this.maxSizesArr[i]);\n    var h = this.el.getBoundingClientRect(),\n        l = !1;\n    (o = \"vertical\" === this.d ? (e - h.top) / h.height : (t - h.left) / h.width) < r ? this.slotEnd[i] > r && (o = r, l = !0) : o > a ? this.slotEnd[i] < a && (o = a, l = !0) : l = !0, l && (this.slotEnd = this.slotEnd.slice(0, i).concat([o], this.slotEnd.slice(i + 1)), this.slotResized.emit({\n      divider: i,\n      sizes: this.slotEndToSizes(this.slotEnd),\n      originalEvent: n\n    }));\n  }, t.prototype.slotEndToSizes = function (t) {\n    for (var e = [], i = 0; i < t.length; ++i) {\n      e.push(this.getSlotSize(i, t));\n    }\n\n    return e;\n  }, t.prototype.getSlotSize = function (t, e) {\n    return 0 === t ? e[t] : e[t] - e[t - 1];\n  }, t.prototype.render = function () {\n    var t = this;\n    if (!this.slotEnd || 0 === this.slotEnd.length) return null;\n\n    for (var e = [], i = [], n = [], s = 0; s < this.n; ++s) {\n      var r = \"container\" + s,\n          o = \"\" + s,\n          a = this.getSlotSize(s, this.slotEnd);\n      e.push(h(\"div\", {\n        id: r,\n        style: \"vertical\" === this.d ? {\n          width: \"100%\",\n          height: 100 * a + \"%\"\n        } : {\n          width: 100 * a + \"%\",\n          height: \"100%\"\n        }\n      }, h(\"slot\", {\n        name: o\n      })));\n    }\n\n    var l = function l(e) {\n      var s = void 0,\n          r = void 0,\n          o = void 0;\n      \"vertical\" === d.d ? (s = {\n        top: 100 * d.slotEnd[e] + \"%\"\n      }, r = \"divider-v display-divider-v\", o = \"divider-v phantom-divider-v\") : (s = {\n        left: 100 * d.slotEnd[e] + \"%\"\n      }, r = \"divider-h display-divider-h\", o = \"divider-h phantom-divider-h\"), i.push(h(\"div\", {\n        class: r,\n        style: s\n      })), d.fixed || n.push(h(\"div\", {\n        class: o,\n        draggable: !0,\n        onDragStart: function onDragStart(i) {\n          t.onDragStart(i, e);\n        },\n        onTouchMove: function onTouchMove(i) {\n          t.onTouchMove(i, e);\n        },\n        style: s\n      }));\n    },\n        d = this;\n\n    for (s = 0; s < this.n - 1; ++s) {\n      l(s);\n    }\n\n    return h(\"div\", {\n      class: \"top-container\"\n    }, h(\"div\", {\n      class: \"dividers-container\"\n    }, i, n), h(\"div\", {\n      class: \"vertical\" === this.d ? \"slots-container-v\" : \"slots-container-h\"\n    }, e));\n  }, Object.defineProperty(t, \"is\", {\n    get: function get() {\n      return \"split-me\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"encapsulation\", {\n    get: function get() {\n      return \"shadow\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"properties\", {\n    get: function get() {\n      return {\n        d: {\n          type: String,\n          attr: \"d\"\n        },\n        el: {\n          elementRef: !0\n        },\n        fixed: {\n          type: Boolean,\n          attr: \"fixed\"\n        },\n        maxSizes: {\n          type: String,\n          attr: \"max-sizes\",\n          watchCallbacks: [\"watchMaxSizes\"]\n        },\n        minSizes: {\n          type: String,\n          attr: \"min-sizes\",\n          watchCallbacks: [\"watchMinSizes\"]\n        },\n        n: {\n          type: Number,\n          attr: \"n\",\n          watchCallbacks: [\"watchN\"]\n        },\n        sizes: {\n          type: String,\n          attr: \"sizes\",\n          watchCallbacks: [\"watchSizes\"]\n        },\n        slotEnd: {\n          state: !0\n        },\n        throttle: {\n          type: Number,\n          attr: \"throttle\",\n          watchCallbacks: [\"watchThrottle\"]\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"events\", {\n    get: function get() {\n      return [{\n        name: \"slotResized\",\n        method: \"slotResized\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"style\", {\n    get: function get() {\n      return \".sc-split-me-h{--divider-length:100%;--divider-thickness:0.15rem;--divider-color:#eee;--divider-shadow:0 0 0.3rem #000;--divider-image-h:none;--divider-image-v:none;--divider-background-repeat:no-repeat;--divider-background-position:center}.divider-h.sc-split-me{height:100%;position:absolute;top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.divider-v.sc-split-me{width:100%;position:absolute;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.display-divider-h.sc-split-me{width:var(--divider-thickness);height:var(--divider-length);background-image:var(--divider-image-h);top:50%}.display-divider-h.sc-split-me, .display-divider-v.sc-split-me{-webkit-box-shadow:var(--divider-shadow);box-shadow:var(--divider-shadow);background-color:var(--divider-color);background-repeat:var(--divider-background-repeat);background-position:var(--divider-background-position);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1}.display-divider-v.sc-split-me{height:var(--divider-thickness);width:var(--divider-length);background-image:var(--divider-image-v);left:50%}.phantom-divider-h.sc-split-me{cursor:col-resize;width:2rem}.phantom-divider-h.sc-split-me, .phantom-divider-v.sc-split-me{background-color:transparent;z-index:2}.phantom-divider-v.sc-split-me{cursor:row-resize;height:2rem}.top-container.sc-split-me{position:relative;width:100%;height:100%;overflow:hidden}.slots-container-h.sc-split-me, .slots-container-v.sc-split-me{position:relative;display:-ms-flexbox;display:flex;height:100%}.slots-container-v.sc-split-me{-ms-flex-direction:column;flex-direction:column}.dividers-container.sc-split-me{position:absolute;left:0;top:0;height:100%;width:100%}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}();\n\nexport { SplitMe };","map":null,"metadata":{},"sourceType":"module"}